using Gtk 4.0;
using Adw 1;

template $AlpacaWelcome: Adw.NavigationPage {
  title: _("Welcome");
  tag: "welcome";

  child: Adw.ToolbarView {
    [top]
    Adw.HeaderBar {}

    [bottom]
    ActionBar {
      [start]
      Button welcome_previous_button {
        clicked => $welcome_previous_button_activate();
        tooltip-text: _("Previous");
        label: _("Previous");
        sensitive: false;

        styles [
          "raised",
        ]
      }

      [center]
      Adw.CarouselIndicatorDots {
        carousel: welcome_carousel;
      }

      [end]
      Button welcome_next_button {
        clicked => $welcome_next_button_activate();
        tooltip-text: _("Next");
        label: _("Next");

        styles [
          "suggested-action",
        ]
      }
    }

    Adw.Carousel welcome_carousel {
      page-changed => $welcome_carousel_page_changed();
      hexpand: true;
      vexpand: true;
      allow-long-swipes: true;
      allow-scroll-wheel: true;
      spacing: 12;

      Adw.StatusPage {
        icon-name: "com.jeffser.Alpaca";
        title: _("Welcome to Alpaca");
        description: _("Powering your potential");
        hexpand: true;
      }

      Adw.StatusPage {
        icon-name: "dialog-warning-symbolic";
        title: _("Disclaimer");
        description: _("Alpaca and its developers are not liable for any damages to devices or software resulting from the execution of code generated by an AI model. Please exercise caution and review the code carefully before running it.\n\nAlpaca is distributed under GPL v3.0, this software comes with no warranty.");
        hexpand: true;
      }

      Adw.StatusPage {
        icon-name: "terminal-symbolic";
        title: _("Effortless Code Execution");
        description: _("Alpaca can run Python, C++, and even HTML (with a live server) right from your conversations. Give it a try!");
      }

      Adw.StatusPage {
        icon-name: "padlock2-symbolic";
        title: _("Private by Design");
        description: _("With Alpaca, your conversations are saved locally on your device, so you can be confident that your data is always secure and private.");
      }

      Adw.StatusPage {
        icon-name: "processor-symbolic";
        title: _("Local AI");
        description: _("Alpaca works with AI providers such as Gemini and ChatGPT.  To run AI models locally on your machine, you'll need to install Ollama within Alpaca. We've made it super easy to do, so you can get started quickly!");

        child: Button install_ollama_button {
          name: "https://github.com/Jeffser/Alpaca/wiki/Installing-Ollama";
          label: _("Install Ollama");
          tooltip-text: "https://github.com/Jeffser/Alpaca/wiki/Installing-Ollama";
          halign: center;
          clicked => $link_button_handler();

          styles [
            "suggested-action",
            "pill",
          ]
        };
      }
    }
  };
}
